*M1

  uses ... fileutil;

    function ExtractShortPathNameUTF8(const FileName : string) : string;
